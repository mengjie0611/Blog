<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端面试题积累 | mengjie前端开发</title>
    <meta name="description" content="一个努力的码农">
    <link rel="icon" type="image/x-icon" href="/Blog/img/icon.png">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.edd67a01.css" as="style"><link rel="preload" href="/Blog/assets/js/app.2159d4b3.js" as="script"><link rel="preload" href="/Blog/assets/js/2.14622190.js" as="script"><link rel="preload" href="/Blog/assets/js/27.24dfab8b.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.6a93ff19.js"><link rel="prefetch" href="/Blog/assets/js/11.c47f1757.js"><link rel="prefetch" href="/Blog/assets/js/12.73863227.js"><link rel="prefetch" href="/Blog/assets/js/13.80522e4d.js"><link rel="prefetch" href="/Blog/assets/js/14.68a4f5c6.js"><link rel="prefetch" href="/Blog/assets/js/15.ec00eb3a.js"><link rel="prefetch" href="/Blog/assets/js/16.f582d6c1.js"><link rel="prefetch" href="/Blog/assets/js/17.7b213757.js"><link rel="prefetch" href="/Blog/assets/js/18.b03270d5.js"><link rel="prefetch" href="/Blog/assets/js/19.e05d7c48.js"><link rel="prefetch" href="/Blog/assets/js/20.1bb272e3.js"><link rel="prefetch" href="/Blog/assets/js/21.5777fedf.js"><link rel="prefetch" href="/Blog/assets/js/22.89979eda.js"><link rel="prefetch" href="/Blog/assets/js/23.4b30007b.js"><link rel="prefetch" href="/Blog/assets/js/24.08c605af.js"><link rel="prefetch" href="/Blog/assets/js/25.3d0a8a58.js"><link rel="prefetch" href="/Blog/assets/js/26.07c0104b.js"><link rel="prefetch" href="/Blog/assets/js/28.46f1bcdc.js"><link rel="prefetch" href="/Blog/assets/js/29.6dc6d7de.js"><link rel="prefetch" href="/Blog/assets/js/3.6c3dee68.js"><link rel="prefetch" href="/Blog/assets/js/30.dcce14df.js"><link rel="prefetch" href="/Blog/assets/js/4.8f84f249.js"><link rel="prefetch" href="/Blog/assets/js/5.236c83d5.js"><link rel="prefetch" href="/Blog/assets/js/6.ce0a3d40.js"><link rel="prefetch" href="/Blog/assets/js/7.44a5767d.js"><link rel="prefetch" href="/Blog/assets/js/8.e33d5460.js"><link rel="prefetch" href="/Blog/assets/js/9.102fdc46.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.edd67a01.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><img src="/Blog/img/logo.png" alt="mengjie前端开发" class="logo"> <span class="site-name can-hide">mengjie前端开发</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Blog/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/Blog/essay/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/Blog/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/Blog/others/" class="nav-link">其他</a></div><div class="nav-item"><a href="/Blog/tags/" class="nav-link">标签</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mengjie0611" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ES6入门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div class="mp3-player" data-v-172d32ba>
  音乐
  <div role="switch" class="el-switch" data-v-172d32ba><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio loop="loop" data-v-172d32ba><source src="/Blog/assets/media/7 Years - Lukas Graham.e8dd8397.mp3" type="audio/mpeg" data-v-172d32ba></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Blog/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/Blog/essay/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/Blog/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/Blog/others/" class="nav-link">其他</a></div><div class="nav-item"><a href="/Blog/tags/" class="nav-link">标签</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mengjie0611" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ES6入门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>前端面试题积累</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#vue构造器以及实例属性" class="sidebar-link">vue构造器以及实例属性</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#手写实现-throttle-（节流）函数" class="sidebar-link">手写实现 throttle （节流）函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#什么是throttle" class="sidebar-link">什么是throttle</a></li><li class="sidebar-sub-header"><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#简单实现" class="sidebar-link">简单实现</a></li><li class="sidebar-sub-header"><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#拓展延伸" class="sidebar-link">拓展延伸</a></li></ul></li><li><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#css实现自适应的正方形" class="sidebar-link">css实现自适应的正方形</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/technology/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E7%A7%AF%E7%B4%AF.html#手写实现以下事件委托函数" class="sidebar-link">手写实现以下事件委托函数</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="前端面试题积累"><a href="#前端面试题积累" class="header-anchor">#</a> 前端面试题积累</h1> <p>标签（空格分隔）： Summarize Interview</p> <hr> <h2 id="vue构造器以及实例属性"><a href="#vue构造器以及实例属性" class="header-anchor">#</a> vue构造器以及实例属性</h2> <ul><li><p>构造器</p> <ul><li>Vue.js是一个构造函数，编程中称之为构造器。</li> <li>每一个new Vue() 都是一个Vue构造函数的实例，这个过程叫做实例化。</li> <li>构造函数需要将其实例化后才会启用。</li> <li>Vue构造器要求实例化时需要传入一个选项对象。</li> <li>选项对象包括数据(data)，模板(tamplate)，挂载元素(el)，方法(methods)，生命周期钩子等选项。</li> <li>每个 Vue.js应用都是通过构造函数Vue创建一个 Vue 的根实例启动的。在文档中经常会使用 vm (ViewModel 的简称)这个变量名表示 Vue 实例。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>//vue的实例化
var vm = new Vue({
  // 选项
})
</code></pre></div><ul><li>可以扩展构造器Vue，从而用预定义选项创建可复用的组件构造器，所有组件都是被扩展的Vue的实例，使用 <code>Vue.extend({})</code>来扩展；</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var MyComponent = Vue.extend({
	// 扩展选项
})
// 所有的MyComponent实例都将以预定义的扩展选项被创建
// 相当于MyComponent继承Vue并且加上扩展的选项

// MyComponent()相当于扩展后的vue，而myComponentInstance 就是扩展后vue的实例。
var myComponentInstance = new MyComponent();
</code></pre></div></li> <li><p>属性与方法</p> <ul><li>每个Vue的实例都会代理其data对象里的所有属性，被代理的属性是响应的；</li> <li>如果实例创建之后添加新的属性到实例上，不会触发视图更新；</li> <li>不要在实例属性或者回调函数中使用箭头函数（如 <code>vm.$watch('a', newVal =&gt; this.myMethod())</code>）。因为箭头函数绑定父上下文，所以 this 不会像预想的一样是 Vue 实例，而是<code>this.myMethod</code>未被定义。</li> <li>Vue实例暴露了一些有用的实例属性和方法，带有前缀 <code>$</code>，便于与代理的data区分
<ul><li><code>vm.$el</code>：类型（HTMLElement）挂载元素，Vue实例的DOM根元素；</li> <li><code>vm.$data</code>：类型（Object），Vue实例观察的数据对象；</li> <li><code>vm.$props</code>：类型（Object）。</li></ul></li></ul></li></ul> <h2 id="手写实现-throttle-（节流）函数"><a href="#手写实现-throttle-（节流）函数" class="header-anchor">#</a> 手写实现 <code>throttle</code> （节流）函数</h2> <h3 id="什么是throttle"><a href="#什么是throttle" class="header-anchor">#</a> 什么是throttle</h3> <ul><li><p>定义：如果将水龙头拧紧直到水是以水滴的形式流出，那你会发现每隔一段时间，就会有一滴水流出。也就是会说预先设定一个执行周期，当调用动作的时刻大于等于执行周期则执行该动作，然后进入下一个新周期。</p></li> <li><p>接口定义</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
* 频率控制 返回函数连续调用时，action 执行频率限定为 次 / delay
* @param delay  {number}    延迟时间，单位毫秒
* @param action {function}  请求关联函数，实际应用需要调用的函数
* @return {function}    返回客户调用函数
*/</span>
<span class="token function">throttle</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span>action<span class="token punctuation">)</span>
</code></pre></div><h3 id="简单实现"><a href="#简单实现" class="header-anchor">#</a> 简单实现</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">delay<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> last <span class="token operator">=</span> <span class="token number">0</span>return <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> curr <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>curr <span class="token operator">-</span> last <span class="token operator">&gt;</span> delay<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">action</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
      last <span class="token operator">=</span> curr 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="拓展延伸"><a href="#拓展延伸" class="header-anchor">#</a> 拓展延伸</h3> <p><a href="https://www.cnblogs.com/fsjohnhuang/p/4147810.html" target="_blank" rel="noopener noreferrer">函数节流（throttle）与函数去抖（debounce）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="css实现自适应的正方形"><a href="#css实现自适应的正方形" class="header-anchor">#</a> css实现自适应的正方形</h2> <ul><li>padding-bottom实现</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>square-shape<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这是一个可以自适应的正方形，此法很好用，有内容也是正方形。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
.square-shape {
  width: 30%;
  height: 0;
  padding-bottom: 30%;
  border: 1px solid #f00;
}
</code></pre></div><ul><li>伪元素的padding-bottom，内嵌absolute元素</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>square-shape<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这是一个可以自适应的正方形<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
.square-shape {
  width: 50%;
  border: 1px solid #f00;
}
.square-shape:after {
  content: '';
  display: block;
  padding-bottom: 100%;
}
.content {
  position: absolute;
  width: 100%;
  height: 100%;
}
</code></pre></div><h2 id="手写实现以下事件委托函数"><a href="#手写实现以下事件委托函数" class="header-anchor">#</a> 手写实现以下事件委托函数</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 手写实现以下事件委托函数</span>
<span class="token keyword">function</span> <span class="token function">delegate</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> handle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>事件委托，通俗来说就是将元素的事件委托给它的父级或者更外级元素处理。</li> <li>需要注意的地方：
<ul><li>保证兼容性，包括：事件绑定、元素选择器 Element.matches 、事件 event 对象</li> <li>回调函数 this 指向</li> <li>当目标元素下还有子元素时，子元素不能触发事件。
解决办法是在触发过程中对元素进行判断，如果当前触发的元素不是目标元素，就继续往该元素的 parentNode 查找，否则循环结束。</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span> <span class="token operator">*</span>
  <span class="token operator">*</span> <span class="token punctuation">[</span>delegateEvent description<span class="token punctuation">]</span>
  <span class="token operator">*</span> @param  <span class="token punctuation">{</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">}</span>   parentSelector 父元素
  <span class="token operator">*</span> @param  <span class="token punctuation">{</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">}</span>   targetSelector 目标元素
  <span class="token operator">*</span> @param  <span class="token punctuation">{</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">}</span>   events         事件
  <span class="token operator">*</span> @param  <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> fn             回调函数
  <span class="token operator">*</span> @<span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">}</span>                  <span class="token keyword">null</span>
   <span class="token operator">*</span><span class="token operator">/</span>

<span class="token keyword">function</span> <span class="token function">delegateEvent</span><span class="token punctuation">(</span><span class="token parameter">parentSelector<span class="token punctuation">,</span> targetSelector<span class="token punctuation">,</span> events<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token comment">// 事件绑定浏览器兼容性处理</span>
  <span class="token keyword">function</span> <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ele<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span><span class="token punctuation">{</span>
      ele<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      ele<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> handle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 如果元素被指定的选择器字符串选择， Element.matches() 方法返回 true; 否则返回 false。</span>
  <span class="token comment">// 对于不支持 Element.matches() 或 Element.matchesSelector()，但支持 document.querySelectorAll() 方法的浏览器，存在以下替代方案</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matches <span class="token operator">=</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matchesSelector <span class="token operator">||</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>mozMatchesSelector <span class="token operator">||</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>msMatchesSelector <span class="token operator">||</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>oMatchesSelector <span class="token operator">||</span>
    <span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>webkitMatchesSelector <span class="token operator">||</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> matches <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>document <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ownerDocument<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>
          i <span class="token operator">=</span> matches<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> matches<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">return</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 事件处理逻辑</span>
  <span class="token function">addEvent</span><span class="token punctuation">(</span>parentSelector<span class="token punctuation">,</span> events<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 兼容性处理</span>
    <span class="token keyword">var</span> e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">var</span> t <span class="token operator">=</span> e<span class="token punctuation">.</span>target <span class="token operator">||</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
    <span class="token comment">// currentTarget === parentSelector</span>
    <span class="token keyword">var</span> currentTarget <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">;</span>

    <span class="token comment">// 遍历并判断是否为目标元素，如果不是，则往元素的 parentNode 继续查找</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>t<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>targetSelector<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果是目标元素则跳出循环</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">===</span> currentTarget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        t <span class="token operator">=</span> t<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将回调函数的 this 指向目标元素</span>
    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>实例</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myLink<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>aaa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bbb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ccc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> myLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myLink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delegateEvent</span><span class="token punctuation">(</span>myLink<span class="token punctuation">,</span> <span class="token string">'li.link'</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'：'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr> <p>创建时间  2017-11-18 By MarlonChiu</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/12/2021, 9:51:50 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/Blog/assets/js/app.2159d4b3.js" defer></script><script src="/Blog/assets/js/2.14622190.js" defer></script><script src="/Blog/assets/js/27.24dfab8b.js" defer></script>
  </body>
</html>
